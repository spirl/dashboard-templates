    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 85
      },
      "id": 105,
      "panels": [],
      "title": "Control Plane Connectivity",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS-SERVER}"
      },
      "description": "Percentile response time. Represents the maximum latency experienced by\n100%, 99%, 95% and 50% of requests.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "s"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 86
      },
      "id": 110,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(1.0,sum(rate(grpc_server_handling_seconds_bucket{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"\n}[$interval])) by (le))",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "max",
          "range": true,
          "refId": "A"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.99,sum(rate(grpc_server_handling_seconds_bucket{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"\n}[$interval])) by (le))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "p99",
          "range": true,
          "refId": "B"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.95,sum(rate(grpc_server_handling_seconds_bucket{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"\n}[$interval])) by (le))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "p95",
          "range": true,
          "refId": "C"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "histogram_quantile(0.5,sum(rate(grpc_server_handling_seconds_bucket{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"\n}[$interval])) by (le))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "p50",
          "range": true,
          "refId": "D"
        }
      ],
      "title": "Latency",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS-SERVER}"
      },
      "description": "Requests per second made to the control plane. Shows the current throughput of API calls being handled by RPC.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "reqps"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 86
      },
      "id": 108,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(grpc_server_started_total{\n    pod=~\"$pods\",\n    grpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"}[$interval]))",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Requests Per Second",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "RPS",
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS-SERVER}"
      },
      "description": "API calls to the control plane resulting in errors by error code. Lower values indicate better service health.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 25,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "auto",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              },
              {
                "color": "red",
                "value": 80
              }
            ]
          }
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 94
      },
      "id": 111,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": true
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum by(grpc_code) (increase(grpc_server_handled_total{pod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\", grpc_code != \"OK\"}[$interval])) > 0",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "{{grpc_code}}",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Errors by RPC code",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {}
        }
      ],
      "type": "timeseries"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS-SERVER}"
      },
      "description": "Percentage of API calls to the control plane resulting in errors. Lower values indicate better connectivity health.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "axisBorderShow": false,
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "barWidthFactor": 0.6,
            "drawStyle": "line",
            "fillOpacity": 10,
            "gradientMode": "none",
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            },
            "insertNulls": false,
            "lineInterpolation": "linear",
            "lineWidth": 1,
            "pointSize": 5,
            "scaleDistribution": {
              "type": "linear"
            },
            "showPoints": "never",
            "spanNulls": false,
            "stacking": {
              "group": "A",
              "mode": "none"
            },
            "thresholdsStyle": {
              "mode": "off"
            }
          },
          "mappings": [],
          "max": 1,
          "min": 0,
          "thresholds": {
            "mode": "absolute",
            "steps": [
              {
                "color": "green"
              }
            ]
          },
          "unit": "percentunit"
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 94
      },
      "id": 109,
      "options": {
        "legend": {
          "calcs": [],
          "displayMode": "list",
          "placement": "right",
          "showLegend": false
        },
        "tooltip": {
          "hideZeros": false,
          "mode": "multi",
          "sort": "none"
        }
      },
      "pluginVersion": "11.6.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS-SERVER}"
          },
          "editorMode": "code",
          "exemplar": true,
          "expr": "sum(rate(grpc_server_handled_total{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\",\ngrpc_code!=\"OK\",\ngrpc_code!=\"Canceled\"}[$interval])) /\nclamp_min(sum(rate(grpc_server_handled_total{\npod=~\"$pods\",\ngrpc_service=~\"com.spirl.private.signer.api.v1.configuration.API|com.spirl.private.signer.api.v1.regionauthority.API|com.spirl.private.signer.api.v1.federation.API\"}[$interval])), 0.001)\n",
          "format": "time_series",
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Error Rate",
          "range": true,
          "refId": "A"
        }
      ],
      "title": "Error Rate",
      "transformations": [
        {
          "id": "filterFieldsByName",
          "options": {}
        }
      ],
      "type": "timeseries"
    }
